# å­¦ä¹ ç®¡ç†ç³»ç»Ÿï¼ˆå®¶åº­ç‰ˆï¼‰è®¾è®¡æ–‡æ¡£

> æœ¬æ–‡æ¡£ç”¨äºå­˜æ¡£å½“å‰è®¨è®ºç»“æœï¼Œä½œä¸º MVP 0.1 çš„ç»Ÿä¸€è®¾è®¡ä¾æ®  
> åŒ…å«ï¼šéœ€æ±‚åŠŸèƒ½æ¸…å•ã€é•¿æœŸ TODOã€æŠ€æœ¯é€‰å‹ã€ER å›¾è®¾è®¡

---

## ä¸€ã€é¡¹ç›®å®šä½

- ä½¿ç”¨å¯¹è±¡ï¼šå®¶åº­å†…éƒ¨ï¼ˆå®¶é•¿ + å­©å­ï¼‰
- ä½¿ç”¨åœºæ™¯ï¼šæ—¥å¸¸ä½œä¸šã€é¢„ä¹ ã€å¤ä¹ ã€ç»ƒä¹ ã€è‡ªä¸»å­¦ä¹ è®¡åˆ’
- æ ¸å¿ƒç›®æ ‡ï¼š
  - å¸®åŠ©å­©å­**è‡ªé©±å­¦ä¹ **
  - å‡å°‘å®¶é•¿æ•´ç†ä½œä¸šä¸èµ„æ–™çš„è´Ÿæ‹…
  - ä¸ºåæœŸç»Ÿè®¡åˆ†æã€æ­£åé¦ˆæœºåˆ¶æ‰“åŸºç¡€

---

## äºŒã€æŠ€æœ¯é€‰å‹ï¼ˆå·²ç¡®è®¤ï¼‰

### å‰ç«¯
- Vueï¼ˆç§»åŠ¨ç«¯ä¼˜å…ˆï¼Œå“åº”å¼ Webï¼‰
- è¿è¡Œç¯å¢ƒï¼šæ‰‹æœºæµè§ˆå™¨ / å¾®ä¿¡å†…ç½®æµè§ˆå™¨ / æ¡Œé¢æµè§ˆå™¨

### åç«¯
- Rust + Salvo
- å•ä½“æœåŠ¡ï¼ˆMVP é˜¶æ®µï¼‰

### æ•°æ®åº“
- PostgreSQL

### æ–‡ä»¶å­˜å‚¨
- OSSï¼ˆå›¾ç‰‡ / PDF / Word ç­‰ï¼‰

### AI / OCR
- MVP 0.1ï¼šç›´æ¥ä½¿ç”¨å¤šæ¨¡æ€å¤§æ¨¡å‹è¿›è¡Œå›¾ç‰‡è¯†åˆ« + ä»»åŠ¡æ‹†åˆ†
- æ¨¡å‹ç¤ºä¾‹ï¼šGLM / DeepSeek / Qwen / è±†åŒ…

### éƒ¨ç½²
- Docker
- åæœŸå¯åŠ å…¥ CI/CD

---

## ä¸‰ã€åŠŸèƒ½æ¸…å•

### 3.1 MVP 0.1ï¼ˆæœ¬æœŸå¿…é¡»å®ç°ï¼‰

#### 1ï¸âƒ£ ç”¨æˆ·ä¸åŸºç¡€èƒ½åŠ›
- ç”¨æˆ·ç™»å½•ï¼ˆç®€åŒ–ç‰ˆï¼Œé¢„ç•™å¾®ä¿¡ / æ‰‹æœºå·ï¼‰
- ç”¨æˆ·æ•°æ®éš”ç¦»ï¼ˆUser ç»´åº¦ï¼‰

#### 2ï¸âƒ£ ä»»åŠ¡ç³»ç»Ÿï¼ˆæ ¸å¿ƒï¼‰
- Task ç»Ÿä¸€æ¨¡å‹ï¼Œæ”¯æŒç±»å‹ï¼š
  - ä½œä¸šï¼ˆhomeworkï¼‰
  - ç»ƒä¹ ï¼ˆpracticeï¼‰
  - é¢„ä¹ ï¼ˆpreviewï¼‰
  - å¤ä¹ ï¼ˆreviewï¼‰
  - è®¡åˆ’ï¼ˆplanï¼‰
- Task æ”¯æŒï¼š
  - åˆ›å»º / ç¼–è¾‘ / å®Œæˆ / åºŸå¼ƒ / åˆ é™¤ï¼ˆé€šè¿‡ statusï¼‰
  - æˆªæ­¢æ—¶é—´ï¼ˆdue_dateï¼‰
  - å­¦ç§‘åˆ†ç±»ï¼ˆæ•°å­¦ / è¯­æ–‡ / è‹±è¯­ / ç‰©ç† / åŒ–å­¦ / ç¼–ç¨‹ / å…¶ä»–ï¼‰

#### 3ï¸âƒ£ é¦–é¡µä¸å±•ç¤º
- é¦–é¡µé»˜è®¤å±•ç¤ºï¼š
  - ä»Šæ—¥ä»»åŠ¡
  - æœªå®Œæˆä»»åŠ¡
- æ”¯æŒåŸºç¡€åˆ—è¡¨æŸ¥çœ‹ï¼ˆä¸å¼ºåˆ¶æ—¥å†ï¼‰

#### 4ï¸âƒ£ èµ„æºæ± ï¼ˆå¿…é¡»ï¼‰
- æ”¯æŒä¸Šä¼ ï¼š
  - å›¾ç‰‡
  - PDF
  - Word
- æ”¯æŒä¸‹è½½ / é¢„è§ˆ
- èµ„æºå¯ç‹¬ç«‹å­˜åœ¨
- èµ„æºå¯å…³è”å¤šä¸ªä»»åŠ¡

#### 5ï¸âƒ£ æˆªå›¾ä½œä¸š â†’ AI è¯†åˆ«
- ç”¨æˆ·ä¸Šä¼ è€å¸ˆä½œä¸šæˆªå›¾
- ç³»ç»Ÿè°ƒç”¨å¤§æ¨¡å‹ï¼š
  - è¯†åˆ«æ–‡å­—
  - è‡ªåŠ¨æ‹†åˆ†ä¸ºå¤šä¸ªä½œä¸šé¡¹
- è‡ªåŠ¨ç”Ÿæˆå¤šä¸ª Taskï¼ˆå­ä»»åŠ¡ï¼‰

#### 6ï¸âƒ£ è®¡åˆ’ï¼ˆPlanï¼‰
- æ”¯æŒåˆ›å»ºå­¦ä¹ è®¡åˆ’
- è®¡åˆ’å¯å…³è”å¤šä¸ªä»»åŠ¡
- ä»»åŠ¡ä¹Ÿå¯è¢«å¤šä¸ªè®¡åˆ’å¤ç”¨

---

### 3.2 TODOï¼ˆæœªæ¥ç‰ˆæœ¬é¢„ç•™ï¼Œä¸è¿› MVP 0.1ï¼‰

#### ğŸš§ å­¦ä¹ æ™ºèƒ½åŒ–
- åŸºäºè‰¾å®¾æµ©æ–¯ / SRS çš„è‡ªåŠ¨å¤ä¹ è®¡åˆ’
- éš¾åº¦åé¦ˆè°ƒæ•´å¤ä¹ é—´éš”

#### ğŸš§ ç»Ÿè®¡ä¸åˆ†æ
- ä»»åŠ¡å®Œæˆç‡ï¼ˆæŒ‰å¤© / å‘¨ / æœˆï¼‰
- å•ç§‘å­¦ä¹ è¶‹åŠ¿
- æ­£ç¡®ç‡ / é”™é¢˜ç»Ÿè®¡
- çŸ¥è¯†ç‚¹æŒæ¡åº¦åˆ†æ

#### ğŸš§ æ¿€åŠ±æœºåˆ¶
- ç§¯åˆ† / å¾½ç«  / æˆå°±ç³»ç»Ÿ
- å®Œæˆä»»åŠ¡çš„æ­£åé¦ˆè®¾è®¡

#### ğŸš§ OCR / LLM Pipeline ä¼˜åŒ–
- OCR å‰ç½®ï¼Œé™ä½ LLM æˆæœ¬
- ç»“æ„åŒ– OCRï¼ˆè¡¨æ ¼ / é¢˜å·ï¼‰
- è¯†åˆ«ç»“æœç¼“å­˜

#### ğŸš§ ä½“éªŒä¼˜åŒ–
- æ—¥å†è§†å›¾ï¼ˆå‘¨ / æœˆï¼‰
- ä»»åŠ¡æ‹–æ‹½
- æœç´¢èƒ½åŠ›
- ç§»åŠ¨ç«¯ Appï¼ˆå¤ç”¨ APIï¼‰

---

## å››ã€ER å›¾è®¾è®¡ï¼ˆMVP 0.1 å®šç¨¿ï¼‰

> **æ³¨æ„**ï¼šæœ¬èŠ‚å†…å®¹å·²è¿‡æ—¶ï¼Œæœ€æ–°è®¾è®¡è¯·å‚è€ƒ `mvp_0_1_db_schema_and_migration_v3.md`

### 4.1 ER å›¾ç»“æ„ï¼ˆæ–‡å­—ç‰ˆï¼‰

```
Account
 â”œâ”€â”€â”€< Task >â”€â”€â”€â”
 â”‚               â”‚
 â”‚               â”œâ”€â”€â”€< TaskResource >â”€â”€â”€ Resource
 â”‚               â”‚
 â”‚               â””â”€â”€â”€< TaskLink >â”€â”€â”€ Taskï¼ˆè‡ªå…³è”ï¼šincludes/ai_split/depends_onï¼‰
 â”‚
 â””â”€â”€â”€< Resource
```

> å˜æ›´è¯´æ˜ï¼š
> - User â†’ Accountï¼ˆé¿å… PostgreSQL ä¿ç•™å­—ï¼‰
> - åˆ é™¤ Plan è¡¨å’Œ PlanTask è¡¨ï¼ŒPlan æ”¹ä¸º task.type='plan'
> - TaskRelation â†’ TaskLink

---

### 4.2 è¡¨è®¾è®¡è¯´æ˜

> **æ³¨æ„**ï¼šæœ€æ–°å­—æ®µå®šä¹‰è¯·å‚è€ƒ `mvp_0_1_db_schema_and_migration_v3.md`

#### Accountï¼ˆåŸ Userï¼‰
- ç³»ç»Ÿä½¿ç”¨è€…ï¼ˆå®¶é•¿ / å­©å­ï¼‰
- æ‰€æœ‰æ•°æ®å½’å±ä¸»ä½“
- å­—æ®µï¼šid, username, nickname, role, å®¡è®¡å­—æ®µ

#### Task
- ç³»ç»Ÿæœ€æ ¸å¿ƒå®ä½“
- ç»Ÿä¸€æ‰¿è½½ï¼šä½œä¸š / ç»ƒä¹  / é¢„ä¹  / å¤ä¹  / è®¡åˆ’
- å…³é”®å­—æ®µï¼š
  - account_idï¼ˆå½’å±è´¦æˆ·ï¼‰
  - typeï¼ˆhomework / practice / preview / review / planï¼‰
  - subject
  - status
  - due_date
  - sourceï¼ˆmanual / ai_extract / wechat / dingtalkï¼‰
  - å®¡è®¡å­—æ®µ

#### ~~Plan~~ï¼ˆå·²åˆ é™¤ï¼‰
- ~~å­¦ä¹ è®¡åˆ’å£³å­~~
- æ”¹ä¸ºé€šè¿‡ task.type='plan' å®ç°

#### ~~PlanTask~~ï¼ˆå·²åˆ é™¤ï¼‰
- ~~Plan ä¸ Task å¤šå¯¹å¤šå…³ç³»è¡¨~~
- æ”¹ä¸ºé€šè¿‡ task_link å®ç°

#### Resource
- å­¦ä¹ èµ„æºæ± 
- å›¾ç‰‡ / PDF / Word
- å­—æ®µï¼šaccount_id, file_name, file_type, storage_url, extracted_text, å®¡è®¡å­—æ®µ

#### TaskResource
- Task ä¸ Resource å¤šå¯¹å¤šå…³ç³»è¡¨

#### TaskLinkï¼ˆåŸ TaskRelationï¼‰
- Task è‡ªå…³è”è¡¨
- link_type: includes / ai_split / depends_on
- ç”¨äºï¼š
  - AI æ‹†åˆ†ä½œä¸š
  - çˆ¶å­ä»»åŠ¡åŒ…å«å…³ç³»
  - ä»»åŠ¡ä¾èµ–å…³ç³»

---

## äº”ã€è®¾è®¡åŸåˆ™æ€»ç»“

- MVP 0.1ï¼š
  - ä¸è¿‡åº¦è®¾è®¡
  - ç»“æ„å¯æ¼”åŒ–
  - ä¸€åˆ‡å›´ç»• Task
- æ‰€æœ‰ TODO åŠŸèƒ½ï¼š
  - ä¸ç ´åç°æœ‰æ¨¡å‹
  - åªåšâ€œåŠ è¡¨ / åŠ å­—æ®µâ€

---

## å…­ã€ä¸‹ä¸€æ­¥å¼€å‘é¡ºåºå»ºè®®

1. ~~æ ¹æ® ER å›¾ç”Ÿæˆå­—æ®µè¯´æ˜è¡¨ï¼ˆç”¨äº migrationï¼‰~~ âœ… å·²å®Œæˆï¼Œè§ `mvp_0_1_db_schema_and_migration_v3.md`
2. ç¼–å†™ migration SQL
3. è®¾è®¡ API æ¸…å•
4. å®ç° Task / Resource / AI æ ¸å¿ƒè·¯å¾„
5. å†å›å¤´ä¼˜åŒ– UI / äº¤äº’

---

> **æ³¨æ„**ï¼šæœ¬æ–‡æ¡£ä¸ºå†å²è‰ç¨¿ï¼Œæœ€æ–°è®¾è®¡è¯·å‚è€ƒï¼š
> - PRDï¼š`learnnest_prd_v1.md`
> - æ•°æ®åº“è®¾è®¡ï¼š`mvp_0_1_db_schema_and_migration_v3.md`
